PROCESING RULES:

GTIN_LENGTH =  [14,13,12,11,10]

 

MAPPING_FUNC(N, MATCH_UPC):

//IF EXACT MATCH:
	ASSIGN SAME MAPPED KEY 

	1. IF LEN(GTIN) = 14:
  		IF LEN(GTIN ,14) = MATCH_UPC AND INVOICE_PACKAGE_DESCRIPTION = PRODCUT_DESCRIPTION:
			TRUE
	  	ELIF LEN(GTIN ,14) = MATCH_UPC AND INVOICE_PACKAGE_DESCRIPTION != PRODCUT_DESCRIPTION:
	2.			CALL(FUZZY) 
			IF SCORE > 70:
				UPDATE INVOICE_PACKAGE_DESCRIPTION WITH MATCHED_PRODCUT_DESCRIPTION
			ELSE: 
				SET FLAG FOR INSPECTION
	3. ELIF:
		RIGHT(p5.GTIN,N) = MATCH_UPC AND INVOICE_PACKAGE_DESCRIPTION = PRODCUT_DESCRIPTION
			STEP 2
	4. ELIF: 
		LEFT(p5.GTIN,N) = MATCH_UPC AND INVOICE_PACKAGE_DESCRIPTION = PRODCUT_DESCRIPTION
			STEP 2
	5. ELSE: 
		RETURN FALSE


FOR N IN GTIN_LENGTH:
	RESULT = MAPPING_FUNC(N, INVOICE_UPC_CASE)
	IF RESULT = FALSE:
		MAPPING_FUNC(N,INVOICE_UPC_PACK)
		

	

	
	